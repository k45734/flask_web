{% extends "base.html" %}
{% block content %}
<center>
    <h4 style="margin-top:20px;">웹툰 자동화 시스템 (God Mode)</h4>
    <form method="get">
        <table border="1" style="border-collapse:collapse; border:1px solid #ddd; width:400px; text-align:center;">
            <tr style="height:40px;">
                <th bgcolor="#f2f2f2">압축 사용</th>
                <td>
                    <select name="compress" style="width:90%;">
                        <option value="1">사용함</option>
                        <option value="0">안함</option>
                    </select>
                </td>
            </tr>
            <tr style="height:40px;">
                <th bgcolor="#f2f2f2">CBZ 변환</th>
                <td>
                    <select name="cbz" style="width:90%;">
                        <option value="1">사용함</option>
                        <option value="0">안함</option>
                    </select>
                </td>
            </tr>
            <tr style="height:40px;">
                <th bgcolor="#f2f2f2">웹툰 종류</th>
                <td>
                    <select name="gbun" style="width:90%;">
                        <option value="adult">성인웹툰</option>
                        <option value="normal">일반웹툰</option>
                    </select>
                </td>
            </tr>
            <tr style="height:40px;">
                <th bgcolor="#f2f2f2">스케줄 주기</th>
                <td><input type="text" name="start_time" value="*/5 * * * *" style="width:90%; border:0; text-align:center;"></td>
            </tr>
            <tr>
                <td colspan="2" style="padding:15px;">
                    <p style="color:gray; font-size:12px;">※ 모든 작업은 백그라운드에서 실행됩니다.</p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                        <input type="submit" value="수집 스케줄 시작" onclick="this.form.action='webtoon_list';">
                        <input type="submit" value="다운 스케줄 시작" onclick="this.form.action='webtoon_down';">
                        <input type="submit" value="즉시 다운로드(1회)" onclick="this.form.action='now';">
                        <input type="submit" value="전체 초기화(리셋)" onclick="return confirmReset(this.form);" style="color:red;">
                        <input type="submit" value="웹툰 목록 관리" onclick="this.form.action='index_list';">
                        <input type="submit" value="수집 현황 보기" onclick="this.form.action='alim_list';">
                    </div>
                </td>
            </tr>
        </table>
    </form>
</center>

<script>
function confirmReset(form) {
    if (confirm("DB의 모든 완료 상태를 False로 바꾸고 처음부터 다시 수집할까요?")) {
        form.action = 'db_list_reset';
        return true;
    }
    return false;
}
</script>
{% endblock %}