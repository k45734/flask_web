{% extends "base.html" %}
{% block content %}

<div class="container mt-5 mb-5">
    <div class="card shadow-lg border-0 mx-auto" style="max-width: 850px; border-radius: 20px; overflow: hidden;">
        <div class="card-header py-4 text-center text-white" style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);">
            <h3 class="fw-bold mb-1"><i class="bi bi-box-seam-fill me-2"></i> íƒë°° ë°°ì†¡ ì•Œë¦¼ ì„œë¹„ìŠ¤</h3>
            <p class="mb-0 opacity-75 small fw-bold">ì‹¤ì‹œê°„ ìš´ì†¡ì¥ ì¶”ì  ë° í…”ë ˆê·¸ë¨ ì•Œë¦¼ ì„¤ì •</p>
        </div>

        <div class="card-body p-4 p-md-5 bg-white">
            <form method="POST">
                <div class="card border-0 bg-light rounded-4 p-4 mb-5 border-start border-4 border-primary">
                    <h5 class="fw-bold mb-4 text-primary"><i class="bi bi-pencil-square me-2"></i>ë°°ì†¡ ì •ë³´ ì…ë ¥</h5>
                    <div class="row g-3">
                        <div class="col-md-5">
                            <label class="form-label small fw-bold text-muted">íƒë°°ì‚¬ ì„ íƒ</label>
                            <select class="form-select border-2 shadow-sm" name="carrier_id">
                                <option value="CJëŒ€í•œí†µìš´">CJëŒ€í•œí†µìš´</option>
                                <option value="ìš°ì²´êµ­ íƒë°°">ìš°ì²´êµ­ íƒë°°</option>
                                <option value="í•œì§„íƒë°°">í•œì§„íƒë°°</option>
                                <option value="ë¡œì  íƒë°°">ë¡œì  íƒë°°</option>
                                <option value="ë¡¯ë°íƒë°°">ë¡¯ë°íƒë°°</option>
                                <option value="ì¿ íŒ¡">ì¿ íŒ¡</option>
                                <option value="ê²½ë™íƒë°°">ê²½ë™íƒë°°</option>
                                <option value="CU í¸ì˜ì íƒë°°">CU í¸ì˜ì íƒë°°</option>
                                <option value="GS Postbox íƒë°°">GS Postbox íƒë°°</option>
                                <hr>
                                <option value="DHL">DHL</option>
                                <option value="Fedex">Fedex</option>
                                <option value="EMS">EMS</option>
                                </select>
                        </div>
                        <div class="col-md-7">
                            <label class="form-label small fw-bold text-muted">ì†¡ì¥ë²ˆí˜¸ (-ì—†ì´ ì…ë ¥)</label>
                            <input type="text" class="form-control border-2 shadow-sm" name="track_id" placeholder="ìš´ì†¡ì¥ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <div class="col-12 mt-3">
                            <label class="form-label small fw-bold text-muted">ë¬¼í’ˆëª… (ë³„ì¹­)</label>
                            <input type="text" class="form-control border-2 shadow-sm" name="box_nun" placeholder="ì˜ˆ: ë§¥ë¶ í”„ë¡œ, ê³ êµ¬ë§ˆ 10kg">
                        </div>
                    </div>
                </div>

                <div class="row g-4 mb-5">
                    <div class="col-md-4">
                        <label class="form-label fw-bold text-secondary small"><i class="bi bi-play-circle me-1"></i> ì‹¤í–‰ ëª¨ë“œ</label>
                        <select class="form-select border-2 shadow-sm" name="now">
                            <option value="True" {% if now == 'True' %}selected{% endif %}>ğŸ“… ì˜ˆì•½ ì‹¤í–‰</option>
                            <option value="False" {% if now == 'False' %}selected{% endif %}>ğŸš€ ë°”ë¡œ ì‹¤í–‰</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label fw-bold text-secondary small"><i class="bi bi-clock me-1"></i> ì¶”ì  ì£¼ê¸°(Cron)</label>
                        <input type="text" class="form-control border-2 shadow-sm" name="start_time" value="{{ start_time }}" placeholder="0 */1 * * *">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label fw-bold text-secondary small"><i class="bi bi-tag me-1"></i> ìŠ¤ì¼€ì¤„ ì´ë¦„</label>
                        <input type="text" class="form-control bg-light border-2 shadow-sm" name="startname" value="track" readonly>
                    </div>
                </div>

                <div class="card border-0 bg-dark text-white rounded-4 p-4 mb-5 shadow">
                    <h5 class="fw-bold mb-4 text-info"><i class="bi bi-telegram me-2"></i> í…”ë ˆê·¸ë¨ ì—°ë™ ì •ë³´</h5>
                    <div class="row g-3 mb-4">
                        <div class="col-md-6">
                            <label class="form-label small opacity-75">ì•Œë¦¼ ì‚¬ìš© ì—¬ë¶€</label>
                            <select class="form-select bg-secondary text-white border-0" name="telgm">
                                <option value="True" {% if telgm == 'True' %}selected{% endif %}>ğŸ”” ì•Œë¦¼ ì¼œì§</option>
                                <option value="False" {% if telgm == 'False' %}selected{% endif %}>ğŸ”• ì•Œë¦¼ êº¼ì§</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label small opacity-75">ë¬´ìŒ ëª¨ë“œ</label>
                            <select class="form-select bg-secondary text-white border-0" name="telgm_alim">
                                <option value="True" {% if telgm_alim == 'True' %}selected{% endif %}>ğŸ”‡ ë¬´ìŒ ì „ì†¡</option>
                                <option value="False" {% if telgm_alim == 'False' %}selected{% endif %}>ğŸ”Š ì†Œë¦¬ í¬í•¨</option>
                            </select>
                        </div>
                        <div class="col-12 mt-3 text-center border-top border-secondary pt-3">
                            <div class="d-flex gap-3 justify-content-center">
                                <div class="small"><span class="text-info">ì‹œì‘:</span> {{ start_time2 }}</div>
                                <div class="small"><span class="text-info">ì¢…ë£Œ:</span> {{ end_time }}</div>
                            </div>
                        </div>
                    </div>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <input type="text" class="form-control bg-secondary text-white border-0 small" name="telgm_token" value="{{ telgm_token }}" placeholder="Bot Token">
                        </div>
                        <div class="col-md-6">
                            <input type="text" class="form-control bg-secondary text-white border-0 small" name="telgm_botid" value="{{ telgm_botid }}" placeholder="Chat ID">
                        </div>
                    </div>
                </div>

                <div class="row g-2">
                    <div class="col-md-3">
                        <button type="submit" class="btn btn-outline-secondary w-100 py-3 fw-bold rounded-3" onclick="javascript: form.action='tracking_list';">
                            <i class="bi bi-list-columns-reverse me-1"></i> ëª©ë¡
                        </button>
                    </div>
                    <div class="col-md-9 d-flex gap-2">
                        <button type="submit" class="btn btn-danger flex-grow-1 py-3 fw-bold rounded-3 shadow" onclick="javascript: form.action='sch_del';">
                            ì‚­ì œ
                        </button>
                        <button type="submit" class="btn btn-outline-primary flex-grow-1 py-3 fw-bold rounded-3 shadow" onclick="javascript: form.action='tracking/tracking_add';">
                            ì¶”ê°€
                        </button>
                        <button type="submit" class="btn btn-primary flex-grow-1 py-3 fw-bold rounded-3 shadow" onclick="javascript: form.action='tracking/tracking_ok';">
                            ì¶”ì  ì‹œì‘ <i class="bi bi-truck ms-1"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
    body { background-color: #f1f5f9; font-family: 'Pretendard', sans-serif; }
    .card-header h3 { letter-spacing: -1px; }
    .form-control:focus, .form-select:focus { border-color: #3b82f6; box-shadow: 0 0 0 0.25rem rgba(59, 130, 246, 0.1); }
    .btn-primary { background-color: #1e3a8a; border-color: #1e3a8a; }
    .btn-primary:hover { background-color: #1e40af; border-color: #1e40af; }
</style>

{% endblock %}