{% extends "base.html" %}
{% block content %}
<div class="container mt-5 mb-5">
    <div class="card shadow-lg border-0 mx-auto" style="max-width: 750px; border-radius: 20px; overflow: hidden;">
        <div class="card-header bg-gradient text-white text-center py-4" style="background: linear-gradient(135deg, #6610f2 0%, #8540f5 100%);">
            <h4 class="mb-0 fw-bold"><i class="fas fa-paint-brush me-2"></i> ì•„ì´ë“¤ ìƒ‰ì¹ ê³µë¶€ ë‹¤ìš´ë¡œë”</h4>
            <p class="mb-0 opacity-75 small mt-1">ìë™ ë‹¤ìš´ë¡œë“œ ë° í…”ë ˆê·¸ë¨ ì•Œë¦¼ ì„¤ì •</p>
        </div>

        <div class="card-body p-4 p-md-5 bg-white">
            <form method="POST">
                <div class="mb-4">
                    <label class="form-label fw-bold"><i class="fas fa-clock me-1 text-primary"></i> ì‹¤í–‰ ì£¼ê¸° (Cron)</label>
                    <input type="text" class="form-control form-control-lg border-2 shadow-sm" name="start_time" value="{{ start_time }}" placeholder="*/1 * * * *">
                    <div class="form-text mt-2 small text-muted">ì˜ˆ: <code>0 9 * * *</code> (ë§¤ì¼ ì˜¤ì „ 9ì‹œ)</div>
                </div>
                
                <div class="card border-0 bg-light rounded-4 p-4 mb-5 border-start border-4" style="border-color: #6610f2 !important;">
                    <h5 class="fw-bold mb-4" style="color: #6610f2;"><i class="fab fa-telegram-plane me-2"></i>ì•Œë¦¼ ë° ë¬´ìŒ ì‹œê°„ ì„¤ì •</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label small fw-bold text-muted">í…”ë ˆê·¸ë¨ ì‚¬ìš©</label>
                            <select class="form-select border-2 shadow-sm" name="telgm">
                                <option value="True" {% if telgm == 'True' %}selected{% endif %}>ì‚¬ìš©í•¨</option>
                                <option value="False" {% if telgm == 'False' %}selected{% endif %}>ì‚¬ìš© ì•ˆí•¨</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label small fw-bold text-muted">íŠ¹ì •ì‹œê°„ ë¬´ìŒ ëª¨ë“œ</label>
                            <select class="form-select border-2 shadow-sm" name="telgm_alim">
                                <option value="True" {% if telgm_alim == 'True' %}selected{% endif %}>í™œì„±í™” (ì„¤ì • ì‹œê°„ ë¬´ìŒ)</option>
                                <option value="False" {% if telgm_alim == 'False' %}selected{% endif %}>ë¹„í™œì„±í™” (í•­ìƒ ì†Œë¦¬)</option>
                            </select>
                        </div>
                        <div class="col-md-6 mt-3">
                            <label class="form-label small fw-bold text-muted">ë´‡ í† í°</label>
                            <input type="text" class="form-control border-2 shadow-sm" name="telgm_token" value="{{ telgm_token }}">
                        </div>
                        <div class="col-md-6 mt-3">
                            <label class="form-label small fw-bold text-muted">ì±— ID</label>
                            <input type="text" class="form-control border-2 shadow-sm" name="telgm_botid" value="{{ telgm_botid }}">
                        </div>

                        <div class="col-md-6 mt-3">
                            <label class="form-label small fw-bold text-muted">
                                <i class="bi bi-moon-stars-fill me-1"></i> ë¬´ìŒ ì‹œì‘ ì‹œê°„
                            </label>
                            <select class="form-select border-2 shadow-sm" name="start_time2">
                                {% for i in range(0, 24) %}
                                    {% set val = "%02d" % i %}
                                    <option value="{{ val }}" {% if start_time2 == val %}selected{% endif %}>{{ val }}ì‹œ</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-6 mt-3">
                            <label class="form-label small fw-bold text-muted">
                                <i class="bi bi-sun-fill me-1"></i> ë¬´ìŒ ì¢…ë£Œ ì‹œê°„
                            </label>
                            <select class="form-select border-2 shadow-sm" name="end_time">
                                {% for i in range(0, 24) %}
                                    {% set val = "%02d" % i %}
                                    <option value="{{ val }}" {% if end_time == val %}selected{% endif %}>{{ val }}ì‹œ</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row g-3 mb-5">
                    <div class="col-md-6">
                        <label class="form-label fw-bold"><i class="fas fa-tag me-1"></i> ìŠ¤ì¼€ì¤„ ì´ë¦„</label>
                        <input type="text" class="form-control bg-light border-0" name="startname" value="funmom" readonly>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label fw-bold"><i class="fas fa-play-circle me-1"></i> ì‹¤í–‰ ëª¨ë“œ ì„ íƒ</label>
                        <div class="row g-2">
                            <div class="col-6">
                                <input type="radio" class="btn-check" name="now" id="mode1" value="True" checked>
                                <label class="btn btn-outline-primary w-100 py-3 fw-bold" for="mode1">ğŸ“… ì˜ˆì•½ ì‹¤í–‰</label>
                            </div>
                            <div class="col-6">
                                <input type="radio" class="btn-check" name="now" id="mode2" value="False">
                                <label class="btn btn-outline-danger w-100 py-3 fw-bold" for="mode2">ğŸš€ ì¦‰ì‹œ ì‹¤í–‰</label>
                            </div>
                        </div>
                    </div>
                </div>

                <input type="hidden" name="myalim" value="{{ myalim if myalim else 'True' }}">

                <div class="d-grid mt-2">
                    <button type="submit" class="btn btn-lg text-white shadow py-3 fw-bold" style="background: #6610f2; border-radius: 12px;">
                        <i class="fas fa-save me-2"></i> ì„¤ì • ì €ì¥ ë° ì„œë¹„ìŠ¤ ì‹œì‘
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
    body { background-color: #f4f7fe; font-family: 'Pretendard', sans-serif; }
    .form-control:focus, .form-select:focus { border-color: #6610f2; box-shadow: 0 0 0 0.25rem rgba(102, 16, 242, 0.1); }
    .btn-outline-primary { border-color: #6610f2; color: #6610f2; }
    .btn-outline-primary:hover, .btn-check:checked + .btn-outline-primary { background-color: #6610f2; border-color: #6610f2; color: #fff; }
    label { letter-spacing: -0.5px; margin-bottom: 8px; }
</style>
{% endblock %}